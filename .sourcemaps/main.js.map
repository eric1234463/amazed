{"version":3,"sources":["../../src/services/user.ts","../../src/services/record.ts","../../src/pages/tabs/tabs.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/components/rate/rate.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.//.*$","../../src/environments/environment.ts","../../src/app/app.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACF;AACW;AACgC;AACvC;AACT;AACK;AACS;AAWjD,CAAC;AAGF;IAGI,qBAAoB,MAAuB,EAC/B,GAAqB,EACtB,QAAkB,EAClB,EAAY;QAHvB,iBAcC;QAdmB,WAAM,GAAN,MAAM,CAAiB;QAC/B,QAAG,GAAH,GAAG,CAAkB;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,OAAE,GAAF,EAAE,CAAU;QACnB,4DAA4D;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS;aAC5B,SAAS,CAAC,cAAI;YACX,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,GAAG,CAAC,GAAG,CAAO,aAAW,IAAI,CAAC,GAAK,CAAC,CAAC,YAAY,EAAE,CAAC;gBACrE,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,2DAAU,CAAC,EAAE,CAAC,IAAI,CAAC;YAC9B,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IACD,mCAAa,GAAb;QAAA,iBAwBC;QAvBG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACjC,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,aAAG;oBAC/C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAM,kBAAkB,GAAG,kDAAa,CAAC,oBAAoB,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBACvG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;wBAChE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBAC1B,OAAO,CAAC,IAAI,CAAC,CAAC;oBAClB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;wBACX,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACnB,MAAM,CAAC,KAAK,CAAC,CAAC;oBAClB,CAAC,CAAC;gBACN,CAAC,CAAC;YACN,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,KAAI,CAAC,MAAM,CAAC,IAAI;qBACX,eAAe,CAAC,IAAI,kDAAa,CAAC,oBAAoB,EAAE,CAAC;qBACzD,IAAI,CAAC,aAAG;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjB,CAAC,CAAC,CAAC;YACX,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IACD,4BAAM,GAAN;QACI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IAC/B,CAAC;IACD,oCAAc,GAAd,UAAe,IAAI;QACf,uCAAuC;QACvC,IAAM,OAAO,GAAkC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAW,IAAI,CAAC,GAAK,CAAC,CAAC;QACnF,IAAM,IAAI,GAAS;YACf,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,IAAI,EAAE,YAAY;YAClB,MAAM,EAAE,GAAG;YACX,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI;YAC3B,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI;YAC3B,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI;SAC9D;QACD,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;IAC5B,CAAC;IACD,+BAAS,GAAT;QAAA,iBAQC;QAPG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAI;gBACpB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtB,CAAC,CAAC;QACN,CAAC,CAAC;IAEN,CAAC;IACD,6BAAO,GAAP;QAAA,iBAOC;QANG,MAAM,CAAC,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;YACrC,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAI;gBACpB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,OAAO,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC,CAAC;QACN,CAAC,CAAC;IACN,CAAC;IA7EQ,WAAW;QADvB,iEAAU,EAAE;yCAImB,0EAAe;YAC1B,gFAAgB;YACZ,+DAAQ;YACd,wEAAQ;OANd,WAAW,CA8EvB;IAAD,kBAAC;CAAA;AA9EuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBwF;AACrE;AACN;AACN;AA4B/B;IAMI,uBAAmB,GAAqB,EAAS,WAAwB;QAAtD,QAAG,GAAH,GAAG,CAAkB;QAAS,gBAAW,GAAX,WAAW,CAAa;IAEzE,CAAC;IAED,mCAAW,GAAX;QAAA,iBAsBC;QArBG,MAAM,CAAC,IAAI,OAAO,CAAuB,UAAC,OAAO,EAAE,MAAM;YACrD,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,aAAG;gBACjC,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,GAAG,CAAC,UAAU,CAAS,QAAQ,CAAC,CAAC;gBAC9D,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,GAAG,CAAC,UAAU,CAAS,QAAQ,EAAE,aAAG;oBACpD,UAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC;gBAA9B,CAA8B,CACjC,CAAC,eAAe,EAAE,CAAC,GAAG,CAAC,iBAAO;oBAC3B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,WAAC;wBAChB,IAAM,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAY,CAAC;wBAC5C,IAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;wBAC5B,MAAM,YAAG,EAAE,QAAK,IAAI,EAAG;oBAC3B,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC;gBAGF,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,iBAAO;oBAC1B,KAAI,CAAC,cAAc,GAAG,OAAO,CAAC;gBAClC,CAAC,CAAC;gBACF,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YAC1B,CAAC,CAAC;QAEN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yCAAiB,GAAjB;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;IAC/B,CAAC;IAED,kCAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,2BAAG,GAAH,UAAI,MAAM;QACN,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,8BAAM,GAAN,UAAO,MAAc;QACjB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAS,YAAU,MAAM,CAAC,EAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC/D,CAAC;IAhDQ,aAAa;QADzB,iEAAU,EAAE;yCAOe,gFAAgB,EAAsB,0DAAW;OANhE,aAAa,CAiDzB;IAAD,oBAAC;CAAA;AAjDyB;;;;;;;;;;;;;;;;;;;;;AChC2B;AAChB;AAIrC;IAQI;QALA,aAAQ,GAAQ,MAAM;QACtB,aAAQ,GAAQ,MAAM,CAAC;QACvB,aAAQ,GAAQ,IAAI,CAAC;QACrB,aAAQ,GAAQ,SAAS,CAAC;QAC1B,aAAQ,GAAQ,SAAS,CAAC;IAG1B,CAAC;IACD,kCAAe,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IAZoB;QAApB,gEAAS,CAAC,QAAQ,CAAC;kCAAS,2DAAI;4CAAC;IADzB,QAAQ;QAHpB,gEAAS,CAAC;WACiB;SAC3B,CAAC;;OACW,QAAQ,CAcpB;IAAD,CAAC;AAAA;SAdY,QAAQ,e;;;;;;;ACLrB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;AC1C0C;AAC+B;AACX;AAE9D;;;;;GAKG;AAKH;IAKI,uBAAmB,QAAwB,EAAS,SAAoB,EAAS,aAA4B;QAA1F,aAAQ,GAAR,QAAQ,CAAgB;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,kBAAa,GAAb,aAAa,CAAe;IAE7G,CAAC;IACD,gCAAQ,GAAR;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,CAAC;IACD,8BAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IACD,8BAAM,GAAN;QACI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;IAC3B,CAAC;IAlBQ,aAAa;QAJzB,gEAAS,CAAC;YACP,QAAQ,EAAE,MAAM;WACQ;SAC3B,CAAC;sBAM+G;OALpG,aAAa,CAoBzB;IAAD,CAAC;AAAA;SApBY,aAAa,U;;;;;;;;;;;ACdiD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJG;AACG;AACe;AACtB;AACF;AACiB;AACR;AACM;AACN;AACX;AACP;AACM;AACO;AACQ;AACF;AACZ;AACI;AACY;AACb;AACM;AAkDxD;IAAA;IACA,CAAC;IADY,SAAS;QAjDrB,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,8DAAK;gBACL,mEAAQ;gBACR,6EAAa;aAChB;YACD,OAAO,EAAE;gBACL,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,8DAAK,EACnB;oBACE,IAAI,EAAE,KAAK;iBACd,EACb;oBACE,KAAK,EAAE;wBACL,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAChI,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAChI,EAAE,YAAY,EAAE,qEAAqE,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAC7K,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACrI,EAAE,YAAY,EAAE,8CAA8C,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpJ,EAAE,YAAY,EAAE,+CAA+C,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAC3I,EAAE,YAAY,EAAE,oCAAoC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;qBACvH;iBACF,CAAC;gBACM,yEAAkB;gBAClB,6DAAY;gBACZ,uEAAiB,CAAC,aAAa,CAAC,8EAAW,CAAC,QAAQ,CAAC;gBACrD,wFAAyB;gBACzB,gFAAqB;gBACrB,sFAAsB,CAAC,iBAAiB,EAAE;aAC7C;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACb,8DAAK;gBACL,mEAAQ;gBACR,6EAAa;aAChB;YACD,SAAS,EAAE;gBACP,4EAAS;gBACT,oEAAW;gBACX,oFAAa;gBACb,sFAAc;gBACd,wEAAa;gBACb,yEAAQ;gBACR,kFAAY,EAAE;oBACV,OAAO,EAAE,2DAAY;oBACrB,QAAQ,EAAE,wEAAiB;iBAC9B;aACJ;SACJ,CAAC;OACW,SAAS,CACrB;IAAD,gBAAC;CAAA;AADqB;;;;;;;;ACrEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;ACtPO,IAAM,WAAW,GAAG;IACvB,UAAU,EAAE,IAAI;IAChB,QAAQ,EAAE;QACN,MAAM,EAAE,yCAAyC;QACjD,UAAU,EAAE,6BAA6B;QACzC,WAAW,EAAE,oCAAoC;QACjD,SAAS,EAAE,aAAa;QACxB,aAAa,EAAE,yBAAyB;QACxC,iBAAiB,EAAE,eAAe;KACrC;CACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVwC;AACD;AACY;AACM;AACP;AACN;AACV;AAGpC;IAGI,eAAY,QAAkB,EAAE,SAAoB,EAAE,YAA0B,EAAE,MAAuB;QAAzG,iBAiBC;QAhBG,QAAQ;aACH,KAAK,EAAE;aACP,IAAI,CAAC;YACF,gFAAgF;YAChF,iDAAiD;YACjD,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;YACpB,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;gBAC3B,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;oBACpB,KAAI,CAAC,QAAQ,GAAG,OAAO;gBAC3B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,KAAI,CAAC,QAAQ,GAAG,kEAAQ,CAAC;gBAC7B,CAAC;YACL,CAAC,CAAC;QAEN,CAAC,CAAC,CAAC;IACX,CAAC;IApBQ,KAAK;QADjB,gEAAS,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;yCAIb,+DAAQ,EAAa,2EAAS,EAAgB,iFAAY,EAAU,0EAAe;OAHhG,KAAK,CAqBjB;IAAD,YAAC;CAAA;AArBiB","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFirestore, AngularFirestoreDocument } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/switchMap'\nimport { Platform } from 'ionic-angular';\nimport { Facebook } from '@ionic-native/facebook';\n\nexport interface User {\n    hkid: String;\n    gender: String;\n    uid: String;\n    photoURL?: String;\n    displayName?: String;\n    weight: number;\n    height: number;\n    bmi: number;\n};\n\n@Injectable()\nexport class UserService {\n    public user: Observable<User>;\n    public currentUser: User;\n    constructor(private afAuth: AngularFireAuth,\n        private afs: AngularFirestore,\n        public platform: Platform,\n        public fb: Facebook) {\n        //// Get auth data, then get firestore user document || null\n        this.user = this.afAuth.authState\n            .switchMap(user => {\n                if (user) {\n                    this.user = this.afs.doc<User>(`patient/${user.uid}`).valueChanges();\n                    return this.user;\n                } else {\n                    return Observable.of(null)\n                }\n            });\n    }\n    facebookLogin() {\n        return new Promise((resolve, reject) => {\n            if (!this.platform.is('mobileweb')) {\n                this.fb.login(['email', 'public_profile']).then(res => {\n                    console.log(res);\n                    const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n                    this.afAuth.auth.signInWithCredential(facebookCredential).then((user) => {\n                        this.updateUserData(user);\n                        resolve(user);\n                    }).catch((error) => {\n                        console.log(error);\n                        reject(error);\n                    })\n                })\n            }\n            else {\n                this.afAuth.auth\n                    .signInWithPopup(new firebase.auth.FacebookAuthProvider())\n                    .then(res => {\n                        console.log(res);\n                        resolve(res);\n                    });\n            }\n        });\n    }\n    logout() {\n        this.afAuth.auth.signOut();\n    }\n    updateUserData(user) {\n        // Sets user data to firestore on login\n        const userRef: AngularFirestoreDocument<any> = this.afs.doc(`patient/${user.uid}`);\n        const data: User = {\n            uid: user.uid,\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            hkid: 'A1234XX(8)',\n            gender: 'M',\n            weight: user.weight || null,\n            height: user.height || null,\n            bmi: (user.weight / Math.pow(user.height / 100, 2)) || null\n        }\n        return userRef.set(data)\n    }\n    getUserID() {\n        return new Promise((resolve, reject) => {\n            this.user.subscribe(user => {\n                this.currentUser = user;\n                resolve(user.uid);\n            })\n        })\n\n    }\n    getUser() {\n        return new Promise<User>((resolve, reject) => {\n            this.user.subscribe(user => {\n                this.currentUser = user;\n                resolve(user);\n            })\n        })\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/user.ts","import { Observable } from 'rxjs/Observable';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\nimport { Injectable } from '@angular/core';\nimport { UserService } from './user';\nimport 'rxjs/add/operator/map';\n\n\nexport interface Doctor {\n    name: string;\n    location: string;\n    visited: boolean;\n    records: any[];\n}\n\nexport interface Record {\n    id: String;\n    visitDate: Date;\n    startDate: Date;\n    endDate: Date;\n    factor: any[];\n    medicine: any[];\n    rate: number;\n    title: string;\n    description: string;\n}\n\nexport interface Patient {\n    name: string;\n    records: Record[]\n}\n\n@Injectable()\nexport class RecordService {\n    public doctorDoc: AngularFirestoreDocument<Doctor>;\n    public recordCollection: AngularFirestoreCollection<Record>;\n    public doctor: Observable<Doctor>;\n    public records: Observable<Record[]>;\n    public currentRecords: Record[];\n    constructor(public afs: AngularFirestore, public userService: UserService) {\n\n    }\n\n    initRecords() {\n        return new Promise<Observable<Record[]>>((resolve, reject) => {\n            this.userService.getUserID().then(uid => {\n                this.recordCollection = this.afs.collection<Record>('record');\n                this.records = this.afs.collection<Record>('record', ref =>\n                    ref.where('userID', '==', uid)\n                ).snapshotChanges().map(actions => {\n                    return actions.map(a => {\n                        const data = a.payload.doc.data() as Record;\n                        const id = a.payload.doc.id;\n                        return { id, ...data };\n                    });\n                })\n\n\n                this.records.subscribe(records => {\n                    this.currentRecords = records;\n                })\n                resolve(this.records);\n            })\n\n        });\n    }\n\n    getCurrentRecords() {\n        return this.currentRecords;\n    }\n\n    getRecords() {\n        return this.records;\n    }\n\n    add(record) {\n        this.recordCollection.add(record);\n    }\n\n    update(record: Record) {\n        this.afs.doc<Record>(`record/${record.id}`).update(record);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/record.ts","import { Component, ViewChild } from '@angular/core';\nimport { Tabs } from 'ionic-angular';\n@Component({\n    templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n    @ViewChild('myTabs') tabRef: Tabs;\n\n    tab1Root: any = 'feed'\n    tab2Root: any = 'home';\n    tab3Root: any = 'qr';\n    tab4Root: any = 'profile';\n    tab5Root: any = 'profile';\n    constructor() {\n\n    }\n    ionViewDidEnter() {\n        this.tabRef.select(0);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 198;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 198\n// module chunks = 7","var map = {\n\t\"../pages/feed/feed.module\": [\n\t\t685,\n\t\t6\n\t],\n\t\"../pages/home/home.module\": [\n\t\t686,\n\t\t1\n\t],\n\t\"../pages/home/record-detail/record-detail.module\": [\n\t\t687,\n\t\t0\n\t],\n\t\"../pages/login/login.module\": [\n\t\t688,\n\t\t5\n\t],\n\t\"../pages/profile/edit/edit.module\": [\n\t\t689,\n\t\t4\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t690,\n\t\t3\n\t],\n\t\"../pages/qr/qr.module\": [\n\t\t691,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 242;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 242\n// module chunks = 7","import { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Record, RecordService } from '../../services/record';\n\n/**\n * Generated class for the RateComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n    selector: 'rate',\n    templateUrl: 'rate.html'\n})\nexport class RateComponent {\n\n    public record: Record;\n\n\n    constructor(public viewCtrl: ViewController, public navParams: NavParams, public recordService: RecordService) {\n\n    }\n    ngOnInit() {\n        this.record = this.navParams.get('record');\n        console.log(this.record);\n    }\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\n    update() {\n        this.recordService.update(this.record);\n        this.viewCtrl.dismiss()\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rate/rate.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { Ionic2RatingModule } from 'ionic2-rating';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { environment } from '../environments/environment';\nimport { MomentModule } from 'angular2-moment';\nimport { MyApp } from './app.component';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { UserService } from '../services/user';\nimport { RecordService } from '../services/record';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { Facebook } from '@ionic-native/facebook';\nimport { RateComponent } from '../components/rate/rate';\n@NgModule({\n    declarations: [\n        MyApp,\n        TabsPage,\n        RateComponent\n    ],\n    imports: [\n        BrowserModule,\n        IonicModule.forRoot(MyApp\n            , {\n                mode: 'ios'\n            }),\n        Ionic2RatingModule,\n        MomentModule,\n        AngularFireModule.initializeApp(environment.firebase),\n        AngularFireDatabaseModule, // imports firebase/database, only needed for database features\n        AngularFireAuthModule, // imports firebase/auth, only needed for auth features\n        AngularFirestoreModule.enablePersistence(),\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        MyApp,\n        TabsPage,\n        RateComponent\n    ],\n    providers: [\n        StatusBar,\n        UserService,\n        NativeStorage,\n        BarcodeScanner,\n        RecordService,\n        Facebook,\n        SplashScreen, {\n            provide: ErrorHandler,\n            useClass: IonicErrorHandler\n        }\n    ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 271,\n\t\"./af.js\": 271,\n\t\"./ar\": 272,\n\t\"./ar-dz\": 273,\n\t\"./ar-dz.js\": 273,\n\t\"./ar-kw\": 274,\n\t\"./ar-kw.js\": 274,\n\t\"./ar-ly\": 275,\n\t\"./ar-ly.js\": 275,\n\t\"./ar-ma\": 276,\n\t\"./ar-ma.js\": 276,\n\t\"./ar-sa\": 277,\n\t\"./ar-sa.js\": 277,\n\t\"./ar-tn\": 278,\n\t\"./ar-tn.js\": 278,\n\t\"./ar.js\": 272,\n\t\"./az\": 279,\n\t\"./az.js\": 279,\n\t\"./be\": 280,\n\t\"./be.js\": 280,\n\t\"./bg\": 281,\n\t\"./bg.js\": 281,\n\t\"./bn\": 282,\n\t\"./bn.js\": 282,\n\t\"./bo\": 283,\n\t\"./bo.js\": 283,\n\t\"./br\": 284,\n\t\"./br.js\": 284,\n\t\"./bs\": 285,\n\t\"./bs.js\": 285,\n\t\"./ca\": 286,\n\t\"./ca.js\": 286,\n\t\"./cs\": 287,\n\t\"./cs.js\": 287,\n\t\"./cv\": 288,\n\t\"./cv.js\": 288,\n\t\"./cy\": 289,\n\t\"./cy.js\": 289,\n\t\"./da\": 290,\n\t\"./da.js\": 290,\n\t\"./de\": 291,\n\t\"./de-at\": 292,\n\t\"./de-at.js\": 292,\n\t\"./de-ch\": 293,\n\t\"./de-ch.js\": 293,\n\t\"./de.js\": 291,\n\t\"./dv\": 294,\n\t\"./dv.js\": 294,\n\t\"./el\": 295,\n\t\"./el.js\": 295,\n\t\"./en-au\": 296,\n\t\"./en-au.js\": 296,\n\t\"./en-ca\": 297,\n\t\"./en-ca.js\": 297,\n\t\"./en-gb\": 298,\n\t\"./en-gb.js\": 298,\n\t\"./en-ie\": 299,\n\t\"./en-ie.js\": 299,\n\t\"./en-nz\": 300,\n\t\"./en-nz.js\": 300,\n\t\"./eo\": 301,\n\t\"./eo.js\": 301,\n\t\"./es\": 302,\n\t\"./es-do\": 303,\n\t\"./es-do.js\": 303,\n\t\"./es.js\": 302,\n\t\"./et\": 304,\n\t\"./et.js\": 304,\n\t\"./eu\": 305,\n\t\"./eu.js\": 305,\n\t\"./fa\": 306,\n\t\"./fa.js\": 306,\n\t\"./fi\": 307,\n\t\"./fi.js\": 307,\n\t\"./fo\": 308,\n\t\"./fo.js\": 308,\n\t\"./fr\": 309,\n\t\"./fr-ca\": 310,\n\t\"./fr-ca.js\": 310,\n\t\"./fr-ch\": 311,\n\t\"./fr-ch.js\": 311,\n\t\"./fr.js\": 309,\n\t\"./fy\": 312,\n\t\"./fy.js\": 312,\n\t\"./gd\": 313,\n\t\"./gd.js\": 313,\n\t\"./gl\": 314,\n\t\"./gl.js\": 314,\n\t\"./gom-latn\": 315,\n\t\"./gom-latn.js\": 315,\n\t\"./he\": 316,\n\t\"./he.js\": 316,\n\t\"./hi\": 317,\n\t\"./hi.js\": 317,\n\t\"./hr\": 318,\n\t\"./hr.js\": 318,\n\t\"./hu\": 319,\n\t\"./hu.js\": 319,\n\t\"./hy-am\": 320,\n\t\"./hy-am.js\": 320,\n\t\"./id\": 321,\n\t\"./id.js\": 321,\n\t\"./is\": 322,\n\t\"./is.js\": 322,\n\t\"./it\": 323,\n\t\"./it.js\": 323,\n\t\"./ja\": 324,\n\t\"./ja.js\": 324,\n\t\"./jv\": 325,\n\t\"./jv.js\": 325,\n\t\"./ka\": 326,\n\t\"./ka.js\": 326,\n\t\"./kk\": 327,\n\t\"./kk.js\": 327,\n\t\"./km\": 328,\n\t\"./km.js\": 328,\n\t\"./kn\": 329,\n\t\"./kn.js\": 329,\n\t\"./ko\": 330,\n\t\"./ko.js\": 330,\n\t\"./ky\": 331,\n\t\"./ky.js\": 331,\n\t\"./lb\": 332,\n\t\"./lb.js\": 332,\n\t\"./lo\": 333,\n\t\"./lo.js\": 333,\n\t\"./lt\": 334,\n\t\"./lt.js\": 334,\n\t\"./lv\": 335,\n\t\"./lv.js\": 335,\n\t\"./me\": 336,\n\t\"./me.js\": 336,\n\t\"./mi\": 337,\n\t\"./mi.js\": 337,\n\t\"./mk\": 338,\n\t\"./mk.js\": 338,\n\t\"./ml\": 339,\n\t\"./ml.js\": 339,\n\t\"./mr\": 340,\n\t\"./mr.js\": 340,\n\t\"./ms\": 341,\n\t\"./ms-my\": 342,\n\t\"./ms-my.js\": 342,\n\t\"./ms.js\": 341,\n\t\"./my\": 343,\n\t\"./my.js\": 343,\n\t\"./nb\": 344,\n\t\"./nb.js\": 344,\n\t\"./ne\": 345,\n\t\"./ne.js\": 345,\n\t\"./nl\": 346,\n\t\"./nl-be\": 347,\n\t\"./nl-be.js\": 347,\n\t\"./nl.js\": 346,\n\t\"./nn\": 348,\n\t\"./nn.js\": 348,\n\t\"./pa-in\": 349,\n\t\"./pa-in.js\": 349,\n\t\"./pl\": 350,\n\t\"./pl.js\": 350,\n\t\"./pt\": 351,\n\t\"./pt-br\": 352,\n\t\"./pt-br.js\": 352,\n\t\"./pt.js\": 351,\n\t\"./ro\": 353,\n\t\"./ro.js\": 353,\n\t\"./ru\": 354,\n\t\"./ru.js\": 354,\n\t\"./sd\": 355,\n\t\"./sd.js\": 355,\n\t\"./se\": 356,\n\t\"./se.js\": 356,\n\t\"./si\": 357,\n\t\"./si.js\": 357,\n\t\"./sk\": 358,\n\t\"./sk.js\": 358,\n\t\"./sl\": 359,\n\t\"./sl.js\": 359,\n\t\"./sq\": 360,\n\t\"./sq.js\": 360,\n\t\"./sr\": 361,\n\t\"./sr-cyrl\": 362,\n\t\"./sr-cyrl.js\": 362,\n\t\"./sr.js\": 361,\n\t\"./ss\": 363,\n\t\"./ss.js\": 363,\n\t\"./sv\": 364,\n\t\"./sv.js\": 364,\n\t\"./sw\": 365,\n\t\"./sw.js\": 365,\n\t\"./ta\": 366,\n\t\"./ta.js\": 366,\n\t\"./te\": 367,\n\t\"./te.js\": 367,\n\t\"./tet\": 368,\n\t\"./tet.js\": 368,\n\t\"./th\": 369,\n\t\"./th.js\": 369,\n\t\"./tl-ph\": 370,\n\t\"./tl-ph.js\": 370,\n\t\"./tlh\": 371,\n\t\"./tlh.js\": 371,\n\t\"./tr\": 372,\n\t\"./tr.js\": 372,\n\t\"./tzl\": 373,\n\t\"./tzl.js\": 373,\n\t\"./tzm\": 374,\n\t\"./tzm-latn\": 375,\n\t\"./tzm-latn.js\": 375,\n\t\"./tzm.js\": 374,\n\t\"./uk\": 376,\n\t\"./uk.js\": 376,\n\t\"./ur\": 377,\n\t\"./ur.js\": 377,\n\t\"./uz\": 378,\n\t\"./uz-latn\": 379,\n\t\"./uz-latn.js\": 379,\n\t\"./uz.js\": 378,\n\t\"./vi\": 380,\n\t\"./vi.js\": 380,\n\t\"./x-pseudo\": 381,\n\t\"./x-pseudo.js\": 381,\n\t\"./yo\": 382,\n\t\"./yo.js\": 382,\n\t\"./zh-cn\": 383,\n\t\"./zh-cn.js\": 383,\n\t\"./zh-hk\": 384,\n\t\"./zh-hk.js\": 384,\n\t\"./zh-tw\": 385,\n\t\"./zh-tw.js\": 385\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 609;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 609\n// module chunks = 7","export const environment = {\n    production: true,\n    firebase: {\n        apiKey: \"AIzaSyAZ_gByXBPmheaj_Xyqja0XnmjZrg3J1ac\",\n        authDomain: \"bufyp-8ae9f.firebaseapp.com\",\n        databaseURL: \"https://bufyp-8ae9f.firebaseio.com\",\n        projectId: \"bufyp-8ae9f\",\n        storageBucket: \"bufyp-8ae9f.appspot.com\",\n        messagingSenderId: \"1069815185055\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport 'rxjs/add/operator/switchMap'\n\n@Component({ templateUrl: 'app.html' })\nexport class MyApp {\n\n    public rootPage;\n    constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, afAuth: AngularFireAuth) {\n        platform\n            .ready()\n            .then(() => {\n                // Okay, so the platform is ready and our plugins are available. Here you can do\n                // any higher level native things you might need.\n                statusBar.styleDefault();\n                splashScreen.hide();\n                afAuth.authState.subscribe(user => {\n                    if (user == undefined) {\n                        this.rootPage = 'login'\n                    } else {\n                        this.rootPage = TabsPage;\n                    }\n                })\n\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}