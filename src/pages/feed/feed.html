<!--
  Generated template for the FeedPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Feed</ion-title>
    </ion-navbar>

</ion-header>

<ion-content>
    <div padding>
        <ion-segment [(ngModel)]="content">
            <ion-segment-button value="status">
                Health Status
            </ion-segment-button>
            <ion-segment-button value="feed">
                Feed
            </ion-segment-button>
        </ion-segment>
    </div>
    <div [ngSwitch]="content">
        <div *ngSwitchCase="'status'">
            <ion-row>
                <ion-col col-6 class="circle-progress">
                    <circle-progress [percent]="currentStepProgres" [maxPercent]="maxStep" [title]="currentStep" [units]="'Step'"></circle-progress>
                </ion-col>
                <ion-col col-6 class="circle-progress">
                    <circle-progress [percent]="currentSleepProgres" [maxPercent]="maxSleep" [title]="sleepHours" [units]="'Hours'"></circle-progress>
                </ion-col>
            </ion-row>
            <canvas *ngIf="lineChartData" baseChart width="300" height="400" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions"
                [legend]="lineChartLegend" [chartType]="lineChartType"></canvas>
        </div>
        <ion-grid *ngSwitchCase="'feed'">
            <div *ngFor="let feed of feeds" class="feed-container">
                <ion-row>
                    <ion-col col-12 (click)="goToDetail(feed)">
                        <img-loader class="feed_bg" [src]="feed.photoURL">
                            <div class="feed-box-cover">
                            </div>
                        </img-loader>
                    </ion-col>
                </ion-row>
                <ion-row class="feed-box">
                    <ion-col col-8>
                        <h2>{{ feed.title}}</h2>
                        <h6>
                            <i class="fa fa-user-circle-o" aria-hidden="true"> </i> {{ feed.Doctor.displayName }}</h6>
                        <h6>
                            <i class="fa fa-clock-o" aria-hidden="true"></i> {{ feed.createAt | amTimeAgo }}</h6>
                    </ion-col>
                    <ion-col col-4>
                        <div class="feed-box-icon">
                            <img-loader [src]="feed.Doctor.photoURL" class="doctor-icon"></img-loader>
                        </div>
                    </ion-col>

                </ion-row>
            </div>
        </ion-grid>
    </div>
</ion-content>
