<ion-header>
    <ion-navbar color="primary">
        <ion-title>Records</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="background">
    <ion-grid class="padding-8">
        <ion-row class="record-row" *ngFor="let record of records | async" (click)="goToDetail(record)">
            <ion-col col-3 class="date-col">
                <p class="date">{{record.visitDate | amDateFormat:'MMM'}}</p>
                <p class="date">{{record.visitDate | amDateFormat:'DD'}}</p>
            </ion-col>
            <ion-col col-3 style="text-align: center" *ngIf="(record.doctorID | doc | async) as doctor">
                <div class="doctor-icon-outer">
                    <img class='doctor-icon' src="{{doctor.icon}}" />
                </div>
                <p class="item-doctor" ion-text color="secondary">{{doctor.name}}</p>
            </ion-col>
            <ion-col col-6 class="padding-10" ion-text color="airbnb">
                <p class="item-header">{{record.title}}</p>
                <p class="item-has-icon" *ngIf="(record.doctorID | doc | async) as doctor">
                    <ion-icon name="map" class="inline-icon"></ion-icon>
                    {{ doctor.location }}
                </p>
                <rating [(ngModel)]="record.rate" readOnly="false" max="5"></rating>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
