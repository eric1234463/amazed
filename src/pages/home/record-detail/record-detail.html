<ion-header>
    <ion-navbar color="primary">
        <ion-title>
            {{record.title}}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <div class="cover">
        <ion-grid>
            <ion-row *ngIf="(record.doctorID | doc | async) as doctor">
                <ion-col col-3></ion-col>
                <ion-col col-6>
                    <div class="icon-container">
                        <img [src]="doctor.icon" class="doctor-icon" />
                    </div>
                    <p class="doctor-name">{{doctor.name}}</p>
                </ion-col>
                <ion-col col-3></ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div>
        <ion-grid>
            <ion-row class="icon-row mat-orange-500-border">
                <ion-col col-2 class="icon-col mat-orange-500-bg">
                    <i class="grid-icon icon-moon icon-pen"></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10">
                    <h6 class="mat-orange-500-text">Description</h6>
                    <p class="f-14" ion-text color="airbnb">{{record.description}}</p>
                </ion-col>
            </ion-row>
            <ion-row class="icon-row mat-cyan-500-border">
                <ion-col col-2 class="icon-col mat-cyan-500-bg">
                    <i class="grid-icon icon-moon icon-calendar "></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10">
                    <h6 class="mat-cyan-500-text">Visit Date</h6>
                    <p class="f-14 " ion-text color="airbnb">{{record.visitDate | amDateFormat:'DD MMM YYYY'}}</p>
                </ion-col>
            </ion-row>
            <ion-row class="icon-row mat-purple-500-border">
                <ion-col col-2 class="icon-col mat-purple-500-bg">
                    <i class="grid-icon icon-moon icon-calendar "></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10 ">
                    <h6 class="mat-purple-500-text">Start Date</h6>
                    <p class="f-14 " ion-text color="airbnb">{{record.startDate | amDateFormat:'DD MMM YYYY'}}</p>
                </ion-col>
            </ion-row>
            <ion-row class="icon-row mat-blue-500-border">
                <ion-col col-2 class="icon-col mat-blue-500-bg">
                    <i class="grid-icon icon-moon icon-calendar "></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10 ">
                    <h6 class="mat-blue-500-text">End Date</h6>
                    <p class="f-14 " ion-text color="airbnb">{{record.endDate | amDateFormat:'DD MMM YYYY'}}</p>
                </ion-col>
            </ion-row>
            <ion-row class="icon-row mat-teal-500-border">
                <ion-col col-2 class="icon-col mat-teal-500-bg">
                    <i class="grid-icon icon-moon icon-shrink "></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10 ">
                    <h6 class="mat-teal-500-text">Factor</h6>
                    <p class="f-14 ">
                        <span *ngFor="let factor of record.factors" class="record-tag" [ngClass]="factor.class">{{factor.name}}</span>
                    </p>
                </ion-col>
            </ion-row>
            <ion-row class="icon-row mat-lime-500-border">
                <ion-col col-2 class="icon-col mat-lime-500-bg">
                    <i class="grid-icon icon-moon icon-aid-kit "></i>
                </ion-col>
                <ion-col col-10 class="padding-0-10 ">
                    <h6 class="mat-lime-500-text">Medicine</h6>
                    <p class="f-14 ">
                        <span *ngFor="let medicine of record.medicines" class="record-tag" [ngClass]="medicine.class">{{medicine.name}}</span>
                    </p>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>
<ion-footer no-border>
    <ion-toolbar>
        <div class="margin-0-5">
            <p class="margin-0">
                {{record.description}}
            </p>
            <p class="margin-0">
                <rating [(ngModel)]="record.rate" readOnly="false" max="5"></rating>
            </p>
        </div>
        <ion-buttons end>
            <button ion-button icon-left color="primary" outline (click)="rate()">
                <ion-icon name="star"></ion-icon>
                Rate
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>
